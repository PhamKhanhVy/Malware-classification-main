import matplotlib.pyplot as plt
from pt_server import Server
def pltplotServer(model):
    accuracy_list = []
    loss_list = []
    #plot server
    for round_num in range(1, 6):
        loss, metrics = Server.get_evaluate_fn(model)(round_num, model.get_weights(), {})
        accuracy = metrics["Log accuracy"]
        accuracy_list.append(accuracy)
        loss_list.append(loss)
    rounds = [1, 2, 3, 4, 5]
    plt.figure(figsize=(10, 4))
    plt.subplot(1, 2, 1)
    plt.plot(rounds, accuracy_list, marker='o')
    plt.yticks([0, 0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9])
    plt.xlabel('Round')
    plt.ylabel('Accuracy')
    plt.title('Accuracy over Rounds')

    # Trực quan hóa mất mát
    plt.subplot(1, 2, 2)
    plt.plot(rounds, loss_list, marker='o')
    plt.yticks([0, 1,2,3,4,5,6,7,8,9])
    plt.xlabel('Round')
    plt.ylabel('Loss')
    plt.title('Loss over Rounds')
    plt.tight_layout()
    plt.show()
    #plot client
def pltplotClient(acc , loss):
    accuracy_list = acc
    loss_list = loss
    rounds = [1, 2, 3, 4, 5]
    plt.figure(figsize=(10, 4))
    plt.subplot(1, 2, 1)
    plt.plot(rounds, accuracy_list, marker='o')
    plt.xlabel('Round')
    plt.ylabel('Accuracy')
    plt.title('Accuracy over Rounds')

    # Trực quan hóa mất mát
    plt.subplot(1, 2, 2)
    plt.plot(rounds, loss_list, marker='o')
    plt.xlabel('Round')
    plt.ylabel('Loss')
    plt.title('Loss over Rounds')
    plt.tight_layout()
    plt.show()